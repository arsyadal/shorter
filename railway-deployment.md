# 🚀 Deploy Full-Stack ke Railway

## Step 1: Persiapan Repository

### 1. Push ke GitHub
```bash
# Buat repo baru di GitHub
# https://github.com/new

# Push project
git init
git add .
git commit -m "Initial commit: URL Shortener with Go backend"
git branch -M main
git remote add origin https://github.com/username/url-shortener.git
git push -u origin main
```

## Step 2: Deploy Backend ke Railway

### 1. Setup Railway Account
- Daftar di [railway.app](https://railway.app)
- Connect dengan GitHub account

### 2. Deploy Backend
```bash
# Buat railway.json di root project
cat > railway.json << 'EOF'
{
  "$schema": "https://railway.app/railway.schema.json",
  "build": {
    "builder": "dockerfile",
    "dockerfilePath": "backend/Dockerfile"
  },
  "deploy": {
    "startCommand": "./main",
    "healthcheckPath": "/health"
  }
}
EOF
```

### 3. Environment Variables Railway
```
# Database (Railway Postgres)
DATABASE_URL=<auto-generated>

# Redis (Railway Redis)  
REDIS_URL=<auto-generated>

# Server Config
PORT=8080
GIN_MODE=release
CUSTOM_DOMAIN=your-app.railway.app
```

## Step 3: Deploy Frontend ke Vercel

### 1. Update Frontend Config
```bash
# Update .env.local di frontend
cat > frontend/.env.local << 'EOF'
NEXT_PUBLIC_API_URL=https://your-backend.railway.app/api
EOF
```

### 2. Deploy ke Vercel
```bash
# Install Vercel CLI
npm i -g vercel

# Deploy dari folder frontend
cd frontend
vercel --prod
```

## Step 4: Alternative - Full Railway

### Deploy Both Backend & Frontend ke Railway
```bash
# Backend service
railway-backend/
├── Dockerfile (existing)
├── main.go
└── ...

# Frontend service  
railway-frontend/
├── Dockerfile
├── package.json
└── ...
```

---

## 🎯 COMPARISON TABLE:

| Platform | Backend | Frontend | Database | Setup | Cost | Domain |
|----------|---------|----------|----------|-------|------|--------|
| **Railway** | ✅ Go Native | ✅ Static/Docker | ✅ Built-in | 🟢 Easy | 💰 $5/mo | 🟢 Free |
| **Vercel + Railway** | ✅ Railway | ✅ Vercel | ✅ Railway | 🟡 Medium | 💰 Free+$5 | 🟢 Free |
| **Heroku** | ✅ Go | ✅ Static | ✅ Postgres | 🟡 Medium | 💰 $7/mo | 🟢 Free |
| **VPS** | ✅ Full Control | ✅ Nginx | ✅ Any | 🔴 Complex | 💰 $5-20/mo | 🟡 Need Setup |

---

## 🏆 RECOMMENDATION:

### For Quick Start: **Railway Only**
- Deploy backend & frontend ke Railway
- Built-in database & Redis
- One platform, easy management

### For Performance: **Vercel + Railway**  
- Frontend di Vercel (global CDN)
- Backend di Railway (Go optimized)
- Best of both worlds

### Setup Commands:
```bash
# Railway deployment
railway login
railway new
railway add postgresql redis
railway deploy
``` 